{% extends "base.html" %}
{% load static %}

{% block content %}
<link rel="stylesheet" href="{% static 'css/cart.css' %}">

<div class="cart-container">
    <h2 class="page-title">üõí ‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</h2>

    {% if cart_items %}
    <table class="cart-table">
        <tr>
            <th>#</th>  
            <th>‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</th>
            <th>‡∏Ç‡∏ô‡∏≤‡∏î</th>
            <th>‡∏™‡∏µ</th>
            <th>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô</th>
            <th>‡∏£‡∏≤‡∏Ñ‡∏≤</th>
            <th>‡∏•‡∏ö</th>
        </tr>
        {% for item in cart_items %}
        <tr>
            <td>#{{ item.id }}</td>
            <td>{{ item.product.name }}</td>
            <td>{{ item.size }}</td>
            <td>{{ item.color }}</td>
            <td>
                <form action="{% url 'update_cart' item.id %}" method="POST">
                    {% csrf_token %}
                    <input type="number" name="quantity" value="{{ item.quantity }}" min="1" style="width: 50px;">
                    <button type="submit" class="btn-update">‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï</button>
                </form>
            </td>
            <td>{{ item.product.price }} ‡∏ö‡∏≤‡∏ó</td>
            <td>
                <a href="{% url 'remove_from_cart' item.id %}" class="btn btn-delete">‚ùå ‡∏•‡∏ö</a>
            </td>
        </tr>
        {% endfor %}
    </table>

    <a href="{% url 'checkout' %}" class="btn btn-checkout">‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô</a>

    {% else %}
    <p class="no-products">üõí ‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏ß‡πà‡∏≤‡∏á‡πÄ‡∏õ‡∏•‡πà‡∏≤</p>
    {% endif %}
</div>
{% endblock %}
